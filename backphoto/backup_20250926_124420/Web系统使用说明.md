# 📸 后脑勺拍照Web系统使用说明

## 🚀 系统概述

这是一个完整的Web系统，实现以下流程：
**手机扫描二维码 → 手机输入邮箱 → 电脑启动拍照 → 发送邮件 → 回到初始界面**

## 📱 使用步骤

### 1. 启动系统
```bash
python3 simple_web_system.py
```

### 2. 获取访问地址
系统启动后会显示：
- **电脑访问**：http://localhost:8080
- **手机访问**：http://[您的IP地址]:8080

### 3. 使用流程

#### 步骤1：电脑显示二维码
- 在电脑浏览器中打开显示的地址
- 页面会显示一个二维码和IP地址

#### 步骤2：手机扫描二维码
- 用手机扫描电脑上显示的二维码
- 手机会自动跳转到邮箱输入页面

#### 步骤3：手机输入邮箱
- 在手机上输入您的邮箱地址
- 点击"确认"按钮

#### 步骤4：电脑启动拍照
- 电脑会自动跳转到拍照页面
- 点击"启动拍照"开始检测
- 将后脑勺对准电脑摄像头
- 系统会自动检测并拍照

#### 步骤5：自动发送邮件
- 照片会自动发送到您输入的邮箱
- 系统会显示拍照状态和数量

#### 步骤6：完成循环
- 拍照完成后可以重新开始
- 系统会回到初始界面

## 🔧 系统要求

### 必需依赖
```bash
pip3 install opencv-python qrcode pillow
```

### 邮件配置
确保 `config.py` 文件配置正确：
```python
EMAIL_CONFIG = {
    'smtp_server': 'smtp.gmail.com',
    'smtp_port': 587,
    'sender_email': 'your_email@gmail.com',
    'sender_password': 'your_app_password',
    'subject': '后脑勺照片'
}
```

## 📱 界面说明

### 主页 (电脑)
- 显示二维码
- 显示系统状态
- 显示IP地址

### 邮箱输入页 (手机)
- 邮箱地址输入框
- 格式验证
- 确认按钮

### 拍照页 (电脑)
- 启动/停止拍照按钮
- 实时状态显示
- 使用说明

## 🔍 故障排除

### 1. 系统无法启动
- 检查端口8080是否被占用
- 确保所有依赖已安装
- 检查Python版本

### 2. 手机无法访问
- 确保电脑和手机在同一网络
- 检查防火墙设置
- 尝试使用电脑IP地址

### 3. 拍照程序无法启动
- 检查摄像头权限
- 确保摄像头未被其他程序占用
- 检查OpenCV安装

### 4. 邮件发送失败
- 检查邮件配置
- 验证邮箱和密码
- 检查网络连接

## 🎯 功能特点

### ✅ 已实现功能
- [x] 二维码生成和扫描
- [x] 手机邮箱输入界面
- [x] 电脑拍照程序
- [x] 自动邮件发送
- [x] 实时状态显示
- [x] 循环使用

### 🔄 工作流程
1. **初始化**：系统启动，显示二维码
2. **连接**：手机扫描二维码，建立连接
3. **输入**：手机输入邮箱地址
4. **拍照**：电脑启动后脑勺检测
5. **发送**：自动发送照片到邮箱
6. **循环**：返回初始界面，可重新开始

## 📊 系统状态

### 状态指示
- **等待扫描**：系统启动，等待手机连接
- **已连接**：手机已连接，显示邮箱地址
- **拍照中**：正在检测和拍照
- **已停止**：拍照程序已停止

### 实时信息
- 当前邮箱地址
- 拍照状态
- 已拍摄照片数量
- 系统IP地址

## 🛡️ 安全说明

### 网络安全
- 系统仅在本地网络运行
- 不存储用户邮箱信息
- 照片仅发送到指定邮箱

### 隐私保护
- 照片仅用于指定用途
- 不保存用户个人信息
- 可随时停止系统

## 📞 技术支持

### 常见问题
1. **二维码无法扫描**：检查网络连接，确保IP地址正确
2. **拍照程序无响应**：重启系统，检查摄像头权限
3. **邮件发送失败**：检查邮件配置，验证邮箱设置

### 系统日志
系统运行时会显示详细日志，包括：
- 邮箱接收确认
- 拍照状态更新
- 邮件发送结果
- 错误信息提示

## 🎉 使用建议

### 最佳实践
1. 确保网络连接稳定
2. 在光线充足的环境下拍照
3. 保持摄像头清洁
4. 定期检查邮件配置

### 注意事项
- 系统需要摄像头权限
- 确保邮件配置正确
- 建议在稳定网络环境下使用
- 拍照时保持后脑勺清晰可见

---

**🎯 现在您可以开始使用这个完整的Web系统了！**
